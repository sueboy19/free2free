# 買一送一配對網站分析與工作列表

## 功能需求分析

### 使用者角色
1. **登入者 (一般使用者)**
   - 登入方式：Facebook, Instagram
   - 查看配對列表
   - 建立配對局 (開局者)
   - 加入配對局 (參與者)
   - 審核參與者 (開局者功能)
   - 查看過去參與列表
   - 互相評分與留言
   - 評論點讚/倒讚

2. **管理者**
   - 建立配對活動
   - 管理活動地點 (包含大量店面地點管理)

### 核心功能模組
1. **使用者認證模組**
   - Facebook 登入
   - Instagram 登入
   - 使用者資料管理

2. **配對活動管理模組 (後台)**
   - 建立/編輯/刪除配對活動
   - 設定活動目標、需求人數、地點、時間

3. **地點管理模組 (後台)**
   - 新增/編輯/刪除地點
   - 大量匯入地點功能
   - 整合 Google Maps

4. **配對列表與開局模組**
   - 顯示時間未到的配對活動
   - 開局者建立配對局
   - 參與者加入配對局

5. **審核與參與管理模組**
   - 開局者審核參與者
   - 顯示過去參與列表

6. **評分與互動模組**
   - 開局時間後4小時內互相評分 (3-5分)
   - 留言功能
   - 評論點讚/倒讚

## 資料庫設計概念

### 主要資料表
1. **users** - 使用者資料
2. **admins** - 管理者資料
3. **locations** - 地點資料
4. **activities** - 配對活動
5. **matches** - 配對局
6. **match_participants** - 配對參與者
7. **reviews** - 評分與留言
8. **review_likes** - 評論點讚/倒讚

## 資訊安全設計

### 主要風險與防護措施
1. **OAuth 安全**
   - 使用官方 SDK 進行認證
   - 驗證 token 有效性
   - 防止 CSRF 攻擊

2. **資料驗證**
   - 所有使用者輸入都需伺服器端驗證
   - 防止 SQL injection
   - 防止 XSS 攻擊

3. **權限控制**
   - 管理後台需驗證管理員身份
   - 開局者才能審核參與者
   - 只能評分自己參與的配對

4. **API 安全**
   - 使用 HTTPS
   - 限制 API 請求頻率
   - 敏感操作需二次確認

## 工作列表 (依序執行)

1. [ ] 分析需求並整理功能列表
2. [ ] 設計系統架構與資料庫模型
3. [ ] 識別資訊安全風險並設計防護措施
4. [ ] 建立分析與工作列表文件 (analysis_worklist.md)
5. [ ] 實作使用者認證 (Facebook, Instagram)
6. [ ] 實作配對活動管理後台
7. [ ] 實作地點管理後台
8. [ ] 實作配對列表與開局功能
9. [ ] 實作參與配對功能
10. [ ] 實作開局者審核參與者功能
11. [ ] 實作評分與留言功能
12. [ ] 實作評論點讚/倒讚功能